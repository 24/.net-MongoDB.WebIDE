@using MongoDB.WebIDE.Models
@using MongoDB.Defination
@model ShowIndexModel
@section script{
	<script src="@Url.Content("~/Content/js/showindex.js")" type="text/javascript"></script>
}
<div class="PageTitle">
	<i class="icon-inbox"></i>&nbsp;<strong class="text-info">@Model.Title</strong>
</div>
<div class="accordion-heading alert-success mt10">
	<a class="accordion-toggle">表索引</a>
</div>
<table class="table table-bordered table-striped table-hover">
	<tr>
		<th>
			<span class="label label-info">名称</span>
		</th>
		<th>
			<span class="label label-info">命名空间</span>
		</th>
		<th>
			<span class="label label-info">字段</span>
		</th>
		<th>
			<span class="label label-info">是否唯一</span>
		</th>
	</tr>
	@{
		foreach (var item in Model.Indexes)
		{
		<tr>
			<td>
				@item.Name
			</td>
			<td>
				@item.Namespace
			</td>
			<td>
				@{
			foreach (var key in item.Keys)
			{					
					<span>@key.FieldName : @(key.OrderType == MongoIndexOrderType.Ascending ? "升序" : "降序")</span><br />
			}
				}
			</td>
			<td>
				<div class="form-inline">
					<label class="checkbox inline">
						<input type="checkbox" @(item.Unique ? "checked" : "") disabled />
					</label>
				</div>
			</td>
		</tr>
		}
	}
</table>
<div class="accordion-heading alert-success mt10">
	<a class="accordion-toggle">索引管理</a>
</div>
<div class="alert-info p10">
	<div class="form-inline">
		<label class="radio inline">
			创建索引:
		</label>
		<label class="radio inline">
			<input type="text" id="txtField" />
		</label>
		<label class="radio inline">
			<select id="selOrder" class="span2">
				<option value="1">Ascending</option>
				<option value="-1">Descending</option>
			</select>
		</label>
		<label class="radio inline">
			<a class="btn btn-primary btn-small" id="btnAddColumn">添加列</a>
		</label>
	</div>
	<div class="form-inline">
		<label class="radio inline">
			已添加列:
		</label>
		<label class="radio inline">
			<table class="table table-bordered table-hover" id="tblColumn">
				<tr>
					<th>
						<span class="label label-info">列名</span>
					</th>
					<th>
						<span class="label label-info">排序</span>
					</th>
					<th>
						<span class="label label-info">操作</span>
					</th>
				</tr>
			</table>
		</label>
	</div>
	<div class="form-inline">
		<label class="checkbox inline">
			索引属性:
		</label>
		<label class="checkbox inline">
			<input id="cbUnique" name="cbUnique" type="checkbox" /><span>unique</span>
		</label>
		<label class="checkbox inline">
			<input id="cbBackground" name="cbBackground" type="checkbox" /><span>background</span>
		</label>
		<label class="checkbox inline">
			<input id="cbDropDups" name="cbDropDups" type="checkbox" /><span>dropDups</span>
		</label>
		<label class="checkbox inline">
			<a class="btn btn-primary btn-small">生成索引</a>
		</label>
	</div>
</div>
